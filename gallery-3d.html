<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Yanxu | 晨光画境</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>

    <style>
        /* === 1. 基础设置 === */
        :root {
            --text-dark: #1d1d1f;       
            --text-light: #86868b;      
            --accent-gold: #cfa858;     
            --bg-color: #fdfbfb;
        }

        html, body {
            margin: 0; padding: 0;
            width: 100%; 
            font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "Helvetica Neue", Helvetica, Arial, sans-serif;
            -webkit-font-smoothing: antialiased;
            background: var(--bg-color);
            color: var(--text-dark);
            
            /* 核心修改：允许垂直滚动，但保持平滑 */
            overflow-x: hidden; /* 禁止横向溢出 */
        }

        /* Lenis 滚动容器 */
        html.lenis, html.lenis body { height: auto; }
        ::-webkit-scrollbar { width: 0px; background: transparent; }
        * { -webkit-tap-highlight-color: transparent; outline: none; box-sizing: border-box; }

        /* === 2. 动态背景 (晨光) === */
        .morning-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            background: linear-gradient(-45deg, #fffcf5, #fff5e6, #e6f0ff, #fffcf5);
            background-size: 400% 400%;
            animation: gradientFlow 20s ease infinite;
        }
        .noise-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; opacity: 0.3; pointer-events: none;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='1'/%3E%3C/svg%3E");
        }
        @keyframes gradientFlow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* === 3. 顶部导航/控制区 === */
        .controls-area {
            position: fixed; top: 25px; right: 25px; z-index: 800;
            display: flex; gap: 15px; align-items: center;
        }
        .control-btn {
            width: 42px; height: 42px; border-radius: 50%;
            background: rgba(255, 255, 255, 0.6); 
            border: 1px solid #fff;
            display: flex; justify-content: center; align-items: center;
            cursor: pointer; transition: all 0.3s;
            backdrop-filter: blur(10px);
            font-size: 12px; font-weight: 600; color: var(--text-dark);
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        .control-btn:hover { background: #fff; transform: scale(1.1); box-shadow: 0 8px 20px rgba(0,0,0,0.1); }
        .music-btn svg { width: 18px; height: 18px; fill: var(--text-dark); }
        .music-btn.playing { background: #fff; box-shadow: 0 0 0 4px rgba(255,255,255,0.5); }

        /* === 4. Hero Banner (原画廊区域) === */
        .hero-section {
            position: relative;
            width: 100%; 
            height: 85vh; /* 核心修改：高度调整 */
            overflow: hidden; 
            display: flex; align-items: center;
            /* 底部渐变遮罩，让 Banner 自然过渡到内容 */
            mask-image: linear-gradient(to bottom, black 85%, transparent 100%);
            -webkit-mask-image: linear-gradient(to bottom, black 85%, transparent 100%);
        }

        /* 标题层 */
        .hero-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 20;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
        }
        .hero-title {
            font-size: 8vw; font-weight: 800; letter-spacing: 8px; 
            color: rgba(255,255,255,0.9); mix-blend-mode: overlay; /* 混合模式，让文字透出画作 */
            text-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .hero-scroll-hint {
            position: absolute; bottom: 40px; 
            display: flex; flex-direction: column; align-items: center; gap: 8px;
            opacity: 0.8; animation: bounce 2s infinite;
        }
        .hero-scroll-text { font-size: 12px; letter-spacing: 2px; color: var(--text-dark); font-weight: 500; }
        .hero-arrow { width: 1px; height: 40px; background: var(--text-dark); opacity: 0.3; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(10px); } }

        /* 画廊轨道 */
        .gallery-wrapper {
            display: flex; align-items: center; flex-wrap: nowrap;
            height: 70%; /* 图片卡片占 Banner 高度的 70% */
            padding-left: 5vw;
            will-change: transform; 
        }

        .gallery-item {
            display: flex; flex-direction: column; align-items: flex-start; justify-content: center;
            height: 100%; flex-shrink: 0; position: relative;
            margin-right: 4vw; width: 40vw; /* 桌面端宽度 */
        }

        .art-card {
            position: relative; width: 100%; height: 100%; 
            overflow: hidden; cursor: pointer;
            background: #fff; padding: 10px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
            border-radius: 4px;
        }
        .art-card:hover { transform: scale(1.02); box-shadow: 0 30px 60px rgba(0,0,0,0.12); }

        .art-card-inner {
            width: 115%; height: 100%; position: relative; left: -7.5%;
            will-change: transform;
        }
        .art-img { width: 100%; height: 100%; object-fit: cover; }

        .art-preview-info { margin-top: 15px; opacity: 0.8; }
        .art-preview-title { font-size: 18px; font-weight: 600; margin: 0; color: var(--text-dark); }
        .art-preview-meta { font-size: 12px; color: var(--text-light); margin-top: 4px; }

        /* === 5. 主要内容区 (新增) === */
        .content-section {
            position: relative; z-index: 30;
            padding: 100px 5vw;
            max-width: 1400px; margin: 0 auto;
        }

        /* 通用标题 */
        .section-header { margin-bottom: 80px; text-align: center; }
        .section-title { font-size: 32px; font-weight: 700; margin-bottom: 15px; letter-spacing: 1px; }
        .section-subtitle { font-size: 14px; color: var(--text-light); letter-spacing: 2px; text-transform: uppercase; }
        .section-line { width: 40px; height: 2px; background: var(--accent-gold); margin: 30px auto 0; }

        /* 关于画家 */
        .about-text {
            font-size: 18px; line-height: 2; color: #4a4a4a; text-align: center;
            max-width: 800px; margin: 0 auto 100px; font-weight: 300;
        }

        /* 交替布局板块 */
        .feature-block {
            display: flex; align-items: center; justify-content: space-between;
            margin-bottom: 150px; gap: 80px;
        }
        .feature-block.reverse { flex-direction: row-reverse; }
        
        .feature-text { flex: 1; }
        .feature-text h3 { font-size: 28px; font-weight: 600; margin-bottom: 20px; color: var(--text-dark); }
        .feature-text p { font-size: 16px; line-height: 1.8; color: var(--text-light); margin-bottom: 30px; text-align: justify; }
        .read-more { 
            display: inline-block; padding: 10px 30px; 
            border: 1px solid var(--text-dark); border-radius: 30px;
            font-size: 12px; letter-spacing: 1px; cursor: pointer;
            transition: all 0.3s;
        }
        .read-more:hover { background: var(--text-dark); color: #fff; }

        .feature-img-box {
            flex: 1.2; height: 500px; position: relative;
            overflow: hidden; cursor: pointer; border-radius: 8px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
        }
        .feature-img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.6s ease; }
        .feature-img-box:hover .feature-img { transform: scale(1.05); }

        /* 展览列表 */
        .exhibition-list { max-width: 900px; margin: 0 auto; }
        .exhibition-item {
            display: flex; justify-content: space-between; align-items: baseline;
            padding: 25px 0; border-bottom: 1px solid rgba(0,0,0,0.08);
            transition: padding 0.3s; cursor: default;
        }
        .exhibition-item:hover { padding-left: 20px; border-bottom-color: var(--accent-gold); }
        .ex-year { font-weight: 700; color: var(--accent-gold); width: 80px; }
        .ex-name { flex: 1; font-weight: 500; color: var(--text-dark); }
        .ex-loc { font-size: 13px; color: var(--text-light); }

        /* === 6. Footer === */
        .site-footer {
            text-align: center; padding: 60px 20px;
            border-top: 1px solid rgba(0,0,0,0.05);
            font-size: 12px; color: var(--text-light); letter-spacing: 1px;
        }

        /* === 7. 弹窗 UI (保持不变) === */
        .modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255, 255, 255, 0.4); 
            backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            z-index: 999;
            display: flex; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none; transition: opacity 0.4s ease;
        }
        .modal.active { opacity: 1; pointer-events: auto; }

        .modal-content-box {
            position: relative; width: 90vw; height: 85vh; max-width: 1400px;
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            box-shadow: 0 40px 80px rgba(0,0,0,0.08);
            display: flex; flex-direction: column;
            transform: scale(0.96); opacity: 0;
            overflow: hidden;
        }
        
        .modal-img-wrapper {
            flex: 1; width: 100%; display: flex; justify-content: center; align-items: center;
            padding: 40px; background: #f9f9f9;
        }
        .modal-img { width: auto; height: auto; max-width: 100%; max-height: 100%; object-fit: contain; box-shadow: 0 20px 40px rgba(0,0,0,0.1); }

        .modal-text {
            width: 100%; border-top: 1px solid rgba(0,0,0,0.05);
            background: #fff; max-height: 50%;
        }

        @media (min-width: 1024px) {
            .modal-content-box { flex-direction: row; }
            .modal-img-wrapper { height: 100%; width: 65%; border-right: 1px solid rgba(0,0,0,0.05); border-bottom: none; }
            .modal-text { height: 100%; width: 35%; border-top: none; max-height: 100%; }
        }

        .modal-text-inner { padding: 50px; height: 100%; display: flex; flex-direction: column; justify-content: center; }
        .modal-title { font-size: 28px; font-weight: 700; margin: 0 0 10px 0; color: #1d1d1f; }
        .modal-meta-row { display: flex; align-items: center; gap: 10px; margin-bottom: 25px; color: #86868b; font-size: 13px; }
        .modal-desc-scroll {
            font-size: 15px; line-height: 1.8; color: #424245; 
            flex-grow: 1; overflow-y: auto; padding-right: 10px;
            overscroll-behavior: contain;
        }
        .close-btn {
            position: absolute; top: 20px; right: 20px; width: 44px; height: 44px; border-radius: 50%;
            background: #fff; box-shadow: 0 5px 20px rgba(0,0,0,0.05);
            display: flex; justify-content: center; align-items: center; cursor: pointer; z-index: 100;
        }

        @media (max-width: 768px) {
            .hero-section { height: 65vh; } /* 移动端 Banner 稍矮 */
            .gallery-item { width: 80vw; margin-right: 5vw; }
            .hero-title { font-size: 15vw; }
            .feature-block { flex-direction: column; gap: 40px; margin-bottom: 100px; }
            .feature-block.reverse { flex-direction: column; }
            .feature-img-box { width: 100%; height: 300px; }
            .modal-content-box { width: 100%; height: 100%; border-radius: 0; }
            .section-title { font-size: 26px; }
        }
    </style>
</head>
<body>

    <div class="morning-bg"></div>
    <div class="noise-overlay"></div>

    <audio id="bg-music" loop preload="auto">
        <source src="assets/music/还是会想你曼波.mp3" type="audio/mpeg">
    </audio>

    <div class="controls-area">
        <div class="control-btn lang-btn" id="lang-btn" onclick="toggleLanguage()">EN</div>
        <div class="control-btn music-btn muted" id="music-toggle" onclick="toggleMusic()">
            <svg viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/></svg>
        </div>
    </div>

    <header class="hero-section">
        <div class="hero-overlay">
            <h1 class="hero-title">YANXU</h1>
            <div class="hero-scroll-hint">
                <span class="hero-scroll-text">SCROLL</span>
                <div class="hero-arrow"></div>
            </div>
        </div>
        <div class="gallery-wrapper" id="gallery-wrapper">
            </div>
    </header>

    <main class="content-section">
        
        <div class="section-header">
            <h2 class="section-title">ABOUT ARTIST</h2>
            <p class="section-subtitle">严旭 · 水墨</p>
            <div class="section-line"></div>
        </div>
        <p class="about-text">
            严旭，当代水墨探索者。他的作品试图在传统笔墨与现代光影之间寻找平衡，捕捉自然界中转瞬即逝的晨光与暮色。
            通过对水、墨、纸张微妙关系的极致把控，他构建了一个既真实又虚幻的“晨光画境”，邀请观者在喧嚣中寻找内心的宁静。
        </p>

        <div class="feature-block">
            <div class="feature-text">
                <h3>静谧之境 · 创作手记</h3>
                <p>在创作《静谧之境》系列时，我试图做减法。留白不仅仅是未被触碰的纸面，它是呼吸，是空间，是未尽之言。通过极简的构图，让墨色在纸上自然晕染，形成不可复制的肌理。</p>
                <div class="read-more" onclick="openStaticModal('assets/images/gallery/eg6.jpg', '静谧之境 No.6', '2022', '极简主义风格。大部分画面留白，仅在角落以简练的笔触勾勒出一石一草，追求“少即是多”的禅意表达。')">VIEW ARTWORK</div>
            </div>
            <div class="feature-img-box" onclick="openStaticModal('assets/images/gallery/eg6.jpg', '静谧之境 No.6', '2022', '极简主义风格。大部分画面留白，仅在角落以简练的笔触勾勒出一石一草，追求“少即是多”的禅意表达。')">
                <img src="assets/images/gallery/eg6.jpg" class="feature-img" alt="Artwork">
            </div>
        </div>

        <div class="feature-block reverse">
            <div class="feature-text">
                <h3>云蒸霞蔚 · 色彩的实验</h3>
                <p>这是对传统水墨的一次大胆突破。朱砂与石青的碰撞，模拟日出时分云层中光影的剧烈变化。在这幅作品中，不仅能看到传统的皴法，更能感受到现代绘画对光影的直接描绘。</p>
                <div class="read-more" onclick="openStaticModal('assets/images/gallery/eg5.jpg', '云蒸霞蔚 No.5', '2024', '大胆运用朱砂与石青色，描绘日出时分云蒸霞蔚的壮观景象。色彩的碰撞与融合，旨在表现自然界瞬息万变的磅礴能量。')">VIEW ARTWORK</div>
            </div>
            <div class="feature-img-box" onclick="openStaticModal('assets/images/gallery/eg5.jpg', '云蒸霞蔚 No.5', '2024', '大胆运用朱砂与石青色，描绘日出时分云蒸霞蔚的壮观景象。色彩的碰撞与融合，旨在表现自然界瞬息万变的磅礴能量。')">
                <img src="assets/images/gallery/eg5.jpg" class="feature-img" alt="Artwork">
            </div>
        </div>

        <div class="section-header">
            <h2 class="section-title">EXHIBITIONS</h2>
            <p class="section-subtitle">近期展览</p>
            <div class="section-line"></div>
        </div>
        <div class="exhibition-list">
            <div class="exhibition-item">
                <div class="ex-year">2024</div>
                <div class="ex-name">晨光与墨痕 - 严旭个展</div>
                <div class="ex-loc">SHANGHAI, M50</div>
            </div>
            <div class="exhibition-item">
                <div class="ex-year">2023</div>
                <div class="ex-name">东方既白 - 当代水墨联展</div>
                <div class="ex-loc">BEIJING, 798 ART ZONE</div>
            </div>
            <div class="exhibition-item">
                <div class="ex-year">2022</div>
                <div class="ex-name">静谧的声音</div>
                <div class="ex-loc">TOKYO, GINZA</div>
            </div>
        </div>

    </main>

    <footer class="site-footer">
        &copy; 2025 YANXU.US ALL RIGHTS RESERVED.
    </footer>

    <div class="modal" id="detail-modal">
        <div class="modal-content-box">
            <div class="close-btn" id="close-modal-btn">✕</div>
            <div class="modal-img-wrapper">
                <img src="" alt="" class="modal-img" id="modal-img">
            </div>
            <div class="modal-text">
                <div class="modal-text-inner">
                    <div class="modal-title" id="m-title"></div>
                    <div class="modal-meta-row">
                        <span id="m-year"></span>
                    </div>
                    <div class="modal-desc-scroll" id="m-desc"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // === 1. 数据 (Banner 自动播放用) ===
        const bannerArtworks = [
            { id: 1, src: "assets/images/gallery/eg1.jpg", title: "晨光熹微", year: "2023", desc: "笔墨在晨光中苏醒..." },
            { id: 2, src: "assets/images/gallery/eg2.jpg", title: "山间清风", year: "2023", desc: "以清透的淡彩与水墨交融..." },
            { id: 3, src: "assets/images/gallery/eg3.jpg", title: "古木幽鸣", year: "2022", desc: "聚焦于古树的肌理..." },
            { id: 4, src: "assets/images/gallery/eg4.jpg", title: "溪山行旅", year: "2023", desc: "长卷构图..." },
            { id: 5, src: "assets/images/gallery/eg5.jpg", title: "云蒸霞蔚", year: "2024", desc: "大胆运用朱砂..." },
            { id: 6, src: "assets/images/gallery/eg6.jpg", title: "静谧之境", year: "2022", desc: "极简主义风格..." },
            { id: 7, src: "assets/images/gallery/eg7.jpg", title: "雨后初晴", year: "2023", desc: "湿画法表现..." },
            { id: 8, src: "assets/images/gallery/eg8.jpg", title: "秋山红叶", year: "2023", desc: "满幅构图..." },
        ];

        // 无限循环：克隆一份
        const displayArtworks = [...bannerArtworks, ...bannerArtworks];

        let currentLang = 'zh';
        const uiText = { zh: { langBtn: "EN" }, en: { langBtn: "中" } };

        function toggleLanguage() {
            currentLang = currentLang === 'zh' ? 'en' : 'zh';
            document.getElementById('lang-btn').innerText = uiText[currentLang].langBtn;
            // 实际项目中这里需要更多的文字替换逻辑
        }

        // === 2. 生成 Banner ===
        const wrapper = document.getElementById('gallery-wrapper');
        const isMobile = window.innerWidth < 768;
        const itemWidthVw = isMobile ? 80 : 40; 
        const itemMarginVw = isMobile ? 5 : 4; 
        
        displayArtworks.forEach((art, index) => {
            const item = document.createElement('div');
            item.className = 'gallery-item';
            item.style.width = `${itemWidthVw}vw`;
            item.style.marginRight = `${itemMarginVw}vw`;
            
            item.innerHTML = `
                <div class="art-card" onclick="openBannerModal(${index})">
                    <div class="art-card-inner">
                        <img src="${art.src}" class="art-img" alt="Artwork" decoding="async">
                    </div>
                </div>
                <div class="art-preview-info">
                    <h2 class="art-preview-title">${art.title}</h2>
                    <p class="art-preview-meta">${art.year}</p>
                </div>
            `;
            wrapper.appendChild(item);
        });

        // === 3. 动画逻辑 ===
        gsap.registerPlugin(ScrollTrigger);

        const lenis = new Lenis({
            duration: 1.2,
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
            direction: 'vertical', 
            smooth: true,
        });

        function raf(time) {
            lenis.raf(time);
            requestAnimationFrame(raf);
        }
        requestAnimationFrame(raf);

        // --- Banner 自动无限流动 (GSAP Tween) ---
        // 计算总宽度 (vw)
        const singleItemVw = itemWidthVw + itemMarginVw;
        const totalVw = singleItemVw * displayArtworks.length;
        const oneSetVw = singleItemVw * bannerArtworks.length;
        
        // 设置 wrapper 总宽
        wrapper.style.width = `${totalVw}vw`;

        // 核心：使用 GSAP 线性移动实现无限循环
        const loopTween = gsap.to(wrapper, {
            x: `-${oneSetVw}vw`, // 移动一组的距离
            duration: isMobile ? 25 : 40, // 速度控制
            ease: "none",
            repeat: -1, // 无限重复
        });

        // Banner 内部视差 (Parallax)
        // 让内部图片和 wrapper 移动方向相反，产生视差
        gsap.utils.toArray(".art-card-inner").forEach(inner => {
            gsap.to(inner, {
                xPercent: 15, // 向右微移
                ease: "none",
                repeat: -1,
                duration: isMobile ? 25 : 40 // 时间必须与 loopTween 一致
            });
        });

        // 暂停/恢复逻辑
        const pauseBanner = () => { loopTween.pause(); };
        const resumeBanner = () => { if(!document.body.classList.contains('modal-open')) loopTween.play(); };

        wrapper.addEventListener('mouseenter', pauseBanner);
        wrapper.addEventListener('mouseleave', resumeBanner);
        // 触摸暂停 (移动端)
        wrapper.addEventListener('touchstart', pauseBanner);
        wrapper.addEventListener('touchend', resumeBanner);


        // === 4. 弹窗逻辑 ===
        const modal = document.getElementById('detail-modal');
        const mImg = document.getElementById('modal-img');
        const mTitle = document.getElementById('m-title');
        const mYear = document.getElementById('m-year');
        const mDesc = document.getElementById('m-desc');

        // 打开 Banner 图片
        window.openBannerModal = function(index) {
            const data = displayArtworks[index];
            openStaticModal(data.src, data.title, data.year, data.desc);
        }

        // 打开任意图片 (通用方法)
        window.openStaticModal = function(src, title, year, desc) {
            mImg.src = src;
            mTitle.innerText = title;
            mYear.innerText = year;
            mDesc.innerHTML = desc;
            
            modal.classList.add('active');
            document.body.classList.add('modal-open');
            lenis.stop(); // 停止页面滚动
            loopTween.pause(); // 停止 Banner 播放

            // 进场动画
            const box = modal.querySelector('.modal-content-box');
            gsap.fromTo(box, 
                { scale: 0.9, opacity: 0 },
                { scale: 1, opacity: 1, duration: 0.4, ease: "back.out(1.1)" }
            );
        }

        function closeModal() {
            const box = modal.querySelector('.modal-content-box');
            gsap.to(box, {
                scale: 0.95, opacity: 0, duration: 0.3, 
                onComplete: () => {
                    modal.classList.remove('active');
                    document.body.classList.remove('modal-open');
                    lenis.start();
                    loopTween.play();
                }
            });
        }
        document.getElementById('close-modal-btn').onclick = closeModal;
        modal.onclick = (e) => { if(e.target === modal) closeModal(); };

        // === 5. 音乐控制 ===
        const bgMusic = document.getElementById('bg-music');
        const musicBtn = document.getElementById('music-toggle');
        function toggleMusic() {
            if (bgMusic.paused) {
                bgMusic.play();
                musicBtn.classList.remove('muted');
                musicBtn.classList.add('playing');
            } else {
                bgMusic.pause();
                musicBtn.classList.add('muted');
                musicBtn.classList.remove('playing');
            }
        }

    </script>
</body>
</html>
